<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='assets/css/bootstrap.css') }}"
    />
    <title>City Ambience</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendors/themify-icons/css/themify-icons.css') }}">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendors/owl-carousel/css/owl.carousel.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendors/owl-carousel/css/owl.theme.default.css') }}">

	<link rel="stylesheet" href="{{ url_for('static', filename='assets/css/ollie.css') }}" >
    <style>
        form {
          margin: 30px auto;
          width: 90% !important;
        }
  
        form h2 {
          margin: 20px 0px 30px 0px;
        }
  
        form input,
        label {
          margin: 5px 0px;
        }
        .container {
          width: 90% !important;
        }
        .info {
          display: flex;
        }
        .tableFixHead {
        overflow-y: auto;
        
        
        height: 500px;
      }
      .tableFixHead thead th {
        position: sticky;
        top: 0;
      }
      table {
        border-collapse: collapse;
        width: 100%;
      }
      th,
      td {
        padding: 8px 16px;
        border: 1px solid #ccc;
      }
      th {
        background: #eee;
      }
      </style>



</head>
<body data-spy="scroll" data-target=".navbar" data-offset="40" id="home">

    <nav id="scrollspy" class="navbar navbar-light bg-light navbar-expand-lg fixed-top" data-spy="affix" data-offset-top="20">
        <div class="container">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav ml-auto">
                  <li class="nav-item">
                      <a class="nav-link" href="#home">Home</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="#today">Today</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#trend">Trending</a>
                </li>
                  <li class="nav-item">
                      <a class="nav-link" href="#pop">Popular</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="#top">Top Tweets</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#week">Weekly</a>
                </li>
                  <li class="nav-item">
                      <a class="nav-link" href="#year">Yearly</a>
                  </li>
              </ul>
          </div>
      </div>
  </nav>


    <header id="home" class="header">
        <div class="overlay"></div>

        <div id="header-carousel" class="carousel slide carousel-fade" data-ride="carousel">  
            <div class="container">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="carousel-caption d-none d-md-block">
                            <h1 class="carousel-title" style="color:white">Where do you<br> wanna go?</h1>



                            <form action="/predict" method="post" >
                                <div class="form-group">
                                    <!-- <input style="color:white" type="text" class="form-control" name="query" placeholder="Enter City"  autocomplete="off"> -->


                                    <input name="query" style="color:white" class="form-control" placeholder="Enter City" list="scripts" />


                                    <datalist id="scripts">
                                        <option value="Bangalore" />
                                        <option value="Chandigarh" />
                                        <option value="Gurugram" />
                                        <option value="Hyderabad" />
                                        <option value="Kolkata" />
                                    </datalist>

<!--                                    
                                <select name="query" style="color:white" class="form-control"  >
                                  <option disabled selected>Select City</option>
                                  {% for colour in cities %}
                                    <option value="{{colour}}">{{colour}}</option>
                                  {% endfor %}
                                  <option value="text">Others</option>
                          
                                </select> -->
                

                                </div>
                        
                                <button name="submit" type="submit" class="btn btn-primary" data-submit="...Sending">Search</button>
                              </form>  
        



                        </div>
                    </div>
                </div>
            </div>        
        </div>

        <div class="infos container mb-4 mb-md-2">
            <div class="socials text-right">
                <div class="row justify-content-between">

                    
                
                </div>
            </div>
        </div>
    </header>

    <section class="section" id="today">

        <div class="container">

            <div >
                <div ><br><br>
                    <h3 class="section-title">Today's Analysis</h3>
                    </div>
            </div>
            <img src="{{ url_for('visualize') }}" width="500" ,height="500" style="float:left">

          <br>
              <h5  style="float:right;margin-right: 50px">{{ average }} </h5>
              <img src="{{ pic }}" width="300" ,height="300" style="float:right;margin-left: 100px">

   

              

<div class="col-md-4">


                  <div class="row">
                    <div class="col">
                      <div class="card text-dark bg-white mb-3" style="max-width: 40rem">
                        <div class="card-body">
                          <h1 class="card-title">{{ city_name }}</h1>
                          <div class="info">
                            <div class="right">
                              <h3 class="card-text">{{ temp }}&deg;C</h3>
                              <h4 class="card-text">{{ weather }}</h4>
                            </div>
                            <div class="left">
                              &nbsp;&nbsp;
            
                              <img src="http://openweathermap.org/img/w/{{icon}}.png" alt="" />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>


        </div>


      </section>

      <section class="section" id="trend"><br><br><br><br>
            <img style="float:right; margin: 0 0 0 15px; margin-right:150px;margin-top: 100px;" src="{{ url_for('static', filename='assets/imgs/trend.png') }}" width="350" ,height="350"/>
            
<div style="max-width: 400px;margin-left:150px;text-align: justify" ><br>
  <h2 class="section-title pb-4">Trending</h2>
  <h4>Top Tweet</h4>
  <p style="text-align: justify">{{ t }}</p>
  <h4>Likes</h4>
  <p>{{ l }}</p>
  <h4>Retweets</h4>
  <p>{{ r }}</p>
</div>
<br><br><br><br>
  </section>




<section class="section" id="pop">
  <br><br>
  <div style="max-width: 500px; max-height:900px; margin-left:200px; float:right"></div>
      <h3 class="section-title pb-4" style="margin-left: 100px;">Popular Category</h3>
      <img style="float:left; margin: 0 0 0 15px; margin-right:100px; margin-top:100px;margin-left:150px;" src="{{ url_for('static', filename='assets/imgs/stock.png') }}" width="300" ,height="300"/>
      

      <div class="tableFixHead" style="margin-right:150px;">
 <table >
  {% for table in tables %}
  <tbody>
    <tr>
      <td> {{ table|safe }}</td>
   </tr>
</tbody>
  {% endfor %}
</table>

</div>
</div>
</section>

<section class="section" id="top"><br>
  <div class="container">
      <h3 class="section-title pb-4">Top Tweets</h3>
  </div>
<div class="tableFixHead">
          <table >
             {% for  value in result %}
             <tbody>
               <tr>
                 <td> {{value["text"]}} </td>
              </tr>
          </tbody>
             {% endfor %}
           </table>
  </div>
  <br>
</section>



<section id="week">
  <div style="margin-left:150px" ><br><br><br><br>
      <h2 class="section-title pb-4">Weekly Analysis</h2>
  </div>

  <div id='chart' class='chart'â€></div>
  <div style="margin-left:300px;float: left">
<h4>Today's Score</h4>
<p>{{ avg1 }}</p>
</div>

<div style="margin-right:300px;float: right">
<h4>Weekly Score</h4>
<p>{{ avg }}</p>
</div><br><br><br><br>
<h4 style="margin-left:100px;float: center">{{ compare }}</h4>
</section>



    <section class="section"id="year">
      <br><br>
        <div >
            <h3 class="section-title mb-4" style="margin-left:150px">Yearly Analysis</h3>
            </div>
            <img src="{{ pic2 }}" width="1400" height="500" onerror="this.style.display='none'"/>
            <div style="margin-left:300px;float: left">
              <h4>Today's Score</h4>
              <p>{{ avg1 }}</p>
              </div>
              
              <div style="margin-right:300px;float: right">
              <h4>Yearly Score</h4>
              <p>{{ avg2 }}</p>
              </div><br><br><br><br><br><br>
              <h4 style="margin-left:100px;float: center">{{ compare2 }}</h4>

    </section>
          
         <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
         <script type='text/javascript'>
           var graphs = {{graphJSON | safe}};
           Plotly.plot('chart',graphs,{});
         </script>




    <script src="{{ url_for('static', filename='assets/vendors/jquery/jquery-3.4.1.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendors/bootstrap/bootstrap.bundle.js') }}"></script>
	<script src="{{ url_for('static', filename='assets/vendors/bootstrap/bootstrap.affix.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendors/owl-carousel/js/owl.carousel.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/Ollie.js') }}"></script>

</body>
</html>
